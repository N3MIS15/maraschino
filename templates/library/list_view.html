<ul class="list_view compact">
  {% for item in library %}
    <li {% include "library/item_properties.html" %}>
      <div
        {% if media == 'seasons' %}
          id="{{ item.season }}"

        {% elif media == 'movies' and 'movieset' in item %}
          id="set{{ item.setid }}"

        {% else %}
          id="{{ item[media[:-1]+'id'] }}"

        {% endif %}
      >

        {{ item.label }}

        {% if buttons %}
          <span class="list_buttons">
            {% if 'play' in buttons %}
              <a class="button play">Play</a>
            {% endif %}

            {% if 'info' in buttons %}
              <a
                class="button get"
                data-url="{{path}}{{'?' if not '?' in path else '&'}}{{media[:-1]}}id={{item[media[:-1]+'id']}}"
              >Info</a>
            {% endif %}

            {% if 'queue' in buttons %}
              {% if media == 'files' %}
                {% if item.filetype == 'file' %}
                  <a class="button queue_file" data-path="{{ item.file }}" file-type="{{ file }}">Queue</a>
                {% endif %}
              {% else %}
                <a class="button queue">Queue</a>
              {% endif %}
            {% endif %}

            {% if 'record' in buttons %}
              {% if item.locked %}
                <a class="button toggle_record">LOCKED</a>
              {% else %}
                <a class="button toggle_record">Record</a>
              {% endif %}
            {% endif %}
          </span>
        {% endif %}

        {% if item.playcount %}
          <img class="watched" src="{{ url_for('static', filename='images/tick.png') }}">
        {% endif %}
      </div>
    </li>
  {% endfor %}
</ul>