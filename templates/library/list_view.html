<ul class="list_view compact">
  {% for item in library %}
    <li {% include "library/item_properties.html" %}>
      <div
        {% if media == 'seasons' %}
          id="{{ item.season }}"

        {% elif media == 'movies' and 'movieset' in item %}
          id="set{{ item.setid }}"

        {% else %}
          id="{{ item[media[:-1]+'id'] }}"

        {% endif %}
      >

        {{ item.label }}

        {% if not 'movieset' in item and not media == 'files' %}
          <span class="list_buttons">
            {% if show_info %}
              <a class="button play">Play</a>
            {% else %}
              {% if not media == 'seasons' %}
                <a
                  class="button get"
                  data-url="{{path}}{{'?' if not '?' in path else '&'}}{{media[:-1]}}id={{item[media[:-1]+'id']}}"
                >Info</a>
              {% endif %}
            {% endif %}
            <a class="button queue">Queue</a>
          </span>

        {% elif media == 'files' and item.filetype == 'file' %}
          <span class="list_buttons">
            <a class="button queue_file" file-type="{{ file }}" data-path="{{ item.file }}">Queue</a>
          </span>
        {% endif %}

        {% if item.playcount %}
          <img class="watched" src="{{ url_for('static', filename='images/tick.png') }}">
        {% endif %}
      </div>
    </li>
  {% endfor %}
</ul>